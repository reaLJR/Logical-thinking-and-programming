## 题目
面向公务员考试逻辑推理题目的逻辑agent实现

## 目的与意义
1. 尽管大型模型在自然语言处理（NLP）领域展现出显著优势，它们在逻辑推理方面的能力仍然有限。本研究旨在通过开发逻辑agent来弥补这一短板，增强模型的推理能力，以期在复杂问题解决和决策支持系统中实现更高层次的认知处理。
2. 本研究将探索如何将先进的逻辑agent技术融入逻辑学教学中，以提高教学效率和学生的学习体验。
3. 大模型的推理缺少解释。

大语言模型今年近年来发展迅猛，在诸多任务中表现出色，取得了显著的成就。而实际应用中大模型却也面临出诸多问题与不足，其中较为突出的缺陷之一——推理能力不足。因此为了增强大模型的可靠性有必要增强其逻辑推理能力。而逻辑推理能力又可以继续细化为归纳推理能力、溯因推理等，影响推理能力的过程包含命题论证的抽取，事实与规则的转换，推理步骤，验证与解释等。ASP在解决复杂逻辑推理问题中表现优异，可以借助ASP的优势设计Agent来增强大模型的推理能力。具体地说，可以针对上面提到的某一项特定的逻辑推理能力或者推理的某一特定步骤作为重点来进行逻辑推理的增强。采用公务员考试的逻辑题目作为问题分析、实验、测试的对象。

传统的预训练模型主要通过统计训练来解决逻辑推理问题，这是一种联结主义方法，通常会误解语言的复杂性。同样，形式符号系统虽然精确，但却难以适应各种语言现象。这种背景为在大型语言模型 (LLM) 中引入新的复杂推理方法奠定了基础。

虽然这些方法在过程结构上与我们的方法相似，但它们不包含明确的逻辑规则，并且链接机制完全依赖于模型。

## 逻辑推理
### 逻辑推理定义
>https://en.wikipedia.org/wiki/Logical_reasoning

逻辑推理以推论或论证的形式出现，从一组前提开始，推理得出由这些前提支持的结论。

演绎推理是一种从一般到特殊的推理方式。它基于逻辑原则，从已知的前提出发，通过逻辑推导得出结论。如果前提是真的，并且推理过程是正确的，那么结论必然是真的。演绎推理的形式包括三段论等。

非演绎推理是一种从特殊到一般的推理方式，或者从特殊到特殊。它不保证结论的真实性，因为即使前提是真的，结论也可能是假。归纳推理、溯因推理和类比推理都属于非演绎推理。

单调推理是指在推理过程中，随着新知识的加入，推出的结论越来越接近最终目标，不会出现反复的情况。也就是说，新知识的加入不会否定或改变之前推出的结论。

非单调推理是指在推理过程中，由于新知识的加入，不仅没有加强已推出的结论，反而可能要否定它，使推理退回到前面的某一步，然后重新开始。

推断（Inference）是指根据已知信息或证据得出新信息或结论的过程。推断可以基于各种类型的信息，包括观察、实验结果、先前的知识等。推断通常是非演绎的，因为它涉及从特定事实或数据中得出一般性结论，这些结论不一定具有逻辑必然性。

> http://sdgwy.org/html/xczl/qt/201011/59_1403.html

就“逻辑判断”这一题型的理论研究而言，分类方式互有争鸣。

一种常见的分法是，将“逻辑判断”题型分作“可能性推理”和“必然性推理”两部分。此种分法的优点是从标题就可看出此类型题目的基本性质，即有些题目的答案是唯一确定的，有些题目则不然。另一种做法是，不作题目性质区分，将直言命题、复言命题等题型和削弱反驳、加强支持等题型并列在一起探讨。此种做法的优点是使考生一目了然，迅速了解所欲解答的题目类型，可有的放矢。


“逻辑判断”题型作“形式推理”和“论证推理”两部分划分。“形式推理”，是指简单运用形式逻辑基本规律就可作解的一类题目，主要包括直言命题推理类题目和复言命题推理类题目，还有建立在二者基础上的三段论推理类题目和模态命题推理类题目；所谓“论证推理”，是指在论证语段中体现的推理问题，主要包括：削弱反驳型、支持加强型、前提假设型、结论推出型、解释说明型、评价型。


　　将“逻辑判断”题目作“形式推理”和“论证推理”区分，也是科学的分类方式。承接前述，“逻辑判断”题目考查考生逻辑思维能力，这方面的考查可从不同层面进行。最基本的考查方式是考查考生对形式逻辑基本规律的掌握，主要体现为形式推理题目。与“形式推理”不同，“论证推理”在更高的层级上考查考生逻辑思维能力。在“论证推理”题目中，题干是议论文段，重点考查在论证中体现的逻辑链条。在“论证推理”题目中，形式逻辑的基本规律往往隐而不现，突出体现的是概念间的逻辑论证关系，所以说“论证推理”与“形式推理”不在同级别上。


## 大模型逻辑推理能力
- [自然语言推理综述](https://dl.acm.org/doi/full/10.1145/3664194#sec-6)
- [大型语言模型中的快速工程系统综述：技术与应用](https://arxiv.org/html/2402.07927v1)
- [超越准确性：评估大型语言模型的推理行为 - 一项调查](https://arxiv.org/html/2404.01869v2#S6)
  - 评估大型语言模型推理能力的标准化方法
- [从统计关系到神经符号人工智能：一项调查](https://www.sciencedirect.com/science/article/pii/S0004370223002084#br0190)
- [面向逻辑的模糊神经网络：综述](https://www.sciencedirect.com/science/article/pii/S0957417424019870?via%3Dihub)

### [Logic Agent: Enhancing Validity with Logic Rule Invocation](https://arxiv.org/html/2404.18130v1)

逻辑agent：通过逻辑规则调用增强有效性

2024 年 4 月 28 日

Hanmeng Liu
Westlake University

Zhiyang Teng
ByteDance

Chaoli Zhang
Zhejiang Normal University

Yue Zhang
Westlake University

![alt text](<assets/relevent research/image.png>)

利用 LLM 的计算能力和上下文理解来充当动态调用逻辑规则的代理。这种集成使 LLM 不仅能够以其固有的复杂性处理语言，而且还能够以结构化和准确的方式应用逻辑推理，类似于使用计算器进行数学增强。




## 大模型与ASP


## 数据集
![alt text](<assets/relevent research/image-1.png>)

## 公务员考试题目

### 题型

<!-- 在判断推理中，一共有四种题型，分别是图形推理，定义判断，类比推理，逻辑判断这四大模块。

### 论证
论证分为加强题型和削弱题型。

加强方式

1.补充论据：增加论据支持论点，可以解释原因，也可以举例，适用于题干只有论点或者论点与论据话题一致的情况；

2.搭桥：在论据与论点中不同的关键词之间建立联系，适用于题干论点与论据话题不一致，尤其是提问为“前提假设”的情况；

3.必要条件：补充论点成立的必要条件，可通过“如果选项不成立，那么论点不成立”进行判断，适用于题干只有论点或者论点与论据话题一致，且一般提问为“前提假设”的情况。

削弱方式

1.否定论点：证明论点不成立，考查较多，常出现于题干只有论点或者论点与论据话题一致的情况中；

2.拆桥：断开论据与论点中不同的关键词之间的联系，适用于题干论点与论据话题不一致的情况中；

3.否定论据：证明论据不成立，考查相对较少；

4.因果倒置与他因削弱：因果倒置是将论点的“因”和“果”互换，他因削弱是在论点中“因”成立的同时，存在其他的原因也能导致“果”，两种方法均仅适用于论点为因果关系的情况。 -->




https://www.chinagwy.org/html/xczl/cs/201306/56_53292.html

### 一、 逻辑判断类

![alt text](<assets/relevent research/image-2.png>)

　　解题关键：


　　矛盾关系：都是和可能不是，都不是和可能是，为矛盾关系。特征：不能同真也不能同假，即必有一真一假。


　　上反对关系：都是和都不是。特征：不能同真（必有一假），但是可以同假。


　　下反对关系：可能是和可能不是。特征：不能同假（必有一真），但是可以同真。


　　从属关系：都是和可能是，都不是和可能不是。特征：全称真则特称真，特称假则全称假。


　　1.性质判断推理


　　性质判断又称为直言命题或者直言判断，是断定对象具有或不具有某种性质的判断。性质判断通常由主项、谓项、联项和量项四个要素组成。性质判断根据量和性质共分为全称肯定判断、全称否定判断、特称肯定判断、特称否定判断、单称肯定判断和单称否定判断。这类题目是逻辑判断中常见的考点。


　　【例题】通过调查得知，并非所有的个体商贩都有偷税、逃税行为。


　　如果上述调查的结论是真实的，则以下哪项一定为真：


　　A.所有的个体商贩都没有偷税、逃税行为。


　　B. 多数个体商贩都有偷税、逃税行为。


　　C.并非有的个体商贩没有偷税、逃税行为。


　　D. 有的个体商贩确实没有偷税、逃税行为


　　【解析】D。题干的意思是所有的个体商贩都有偷税是假判断，由传统逻辑方阵E假则I真。还原成同一素材判断就是：有的个体商贩有偷税。故答案选择D


　　2.三段论推理


　　三段论，也叫做三段论推理，就是通过一个共同的概念将两个性质判断联结起来，由此推出一个新的性质判断作结论的推理方法。三段论的一般形式可表示为：

 

　　【例】所有的金属都能导电，铁是金属，所以铁能导电。


　　　　　　　大前提　　　　　小前提　　　　结论


　　其中，“铁”是结论的主项，即小项；“导电”是结论的谓项，即大项；“金属”在前提中出现两次，而在结论中不出现，是中项。


　　【例题】所有的聪明人都是近视眼，我近视得很历害，所以，我很聪明。


　　以下哪一项揭示了上述推理是明显错误的？


　　A.我是个笨人，因为所有的聪明人都是近视眼，而我的视力很好。


　　B.所有的猪都有四条腿，但这种动物有八条腿，所以它不是猪。


　　C.所有的天才都高度近视，我一定是高度近视，因为我是天才。


　　D.所有的鸡都是尖嘴的，这种总在树上呆着的鸟是尖嘴的，因此它是鸡。


　　【解析】D。题干是第二格的三段论，聪明人只是近视眼中的一部分，我近视厉害，我也是其中的一部分，可是有可能我聪明，也有可能不聪明。用欧拉图可以表示如下。A是聪明人B是近视眼人，我在B中，可能在A中，也可能不在A中，故我是否聪明不确定。以此，犯同样错误就是D。故答案选择D。

　　3.关系推理


　　事物或对象不仅具有各种性质，而且事物或对象之间还存在各种各样的关系。逻辑把断定事物或对象之间存在或不存在某种关系的判断叫做关系判断。


　　【例题】甘蓝比菠菜更有营养。但是，因为绿芥兰比莴苣更有营养，所以甘蓝比莴苣更有营养。


　　以下各项，作为新的前提分别加入到题干的前提中，都能使题干的推理成立，除了 （ ）


　　A.甘蓝与绿芥兰同样有营养。


　　B.菠菜比莴苣更有营养。


　　C.绿芥兰比甘蓝更有营养。


　　D.菠菜与绿芥兰同样有营养。


　　【解析】C。这个题目是个关系推理，可以类比数学中的“大于”（>）来解决。仅添加C项，显然不能推出“甘蓝比莴苣更有营养”。故答案选择C。


　　4.假言推理


　　【例1】如果某人是杀人犯，那么案发时他肯定在现场。据此，我们可以推出 （ ）。


　　A.张三案发时在现场，所以张三是杀人犯


　　B.李四不是杀人犯，所以李四案发时不在现场


　　C. 乙案发时不在现场，所以乙不是杀人犯


　　D .丙不在案发现场，但丙是杀人犯


　　【解析】C。此题考查假言判断推理，假如是杀人犯，一定在现场，那么不在现场的就肯定不是杀人犯，故答案选择C。


　　5.联言推理


　　【例题】如果“鱼和熊掌不可兼得”是不可改变的事实，那么以下哪项也一定是事实


　　A.鱼可得但熊掌不可得。


　　B.熊掌可得但鱼不可得。


　　C.如果鱼可得，那么熊掌不可得……


　　D.如果鱼不可得，那么熊掌可得。


　　【解析】C。考查不相容联言判断。鱼和熊掌是选择关系，选择其一，则必然舍弃另一个。故答案选择C。


### 二、 直接推论型

> 更倾向于Inference类型的问题。

　　这一题型又称为结论型，是历年国家公务员逻辑判断测查中常见题型。


　　【例1】　从2005年7月开始，敦煌研究院对莫高窟采用了预约参观办法。这一措施合理有效地调控和平衡了游客流量，一方面加强了洞窟的保护，另一方面给游客提供了更加优质的服务。实施预约参观办法以来，来莫高窟参观的人数逐年递增，年游客接待量由2004年的45万人次增加到2006年的55万人次。


　　由此可以推出（ ）。


　　A.莫高窟预约参观的办法为游客提供了便利


　　B.合理配置人力、物力资源可以实现利益最大化


　　C.预约参观办法实施前莫高窟的游客流量不均衡


　　D.科学合理地利用自然和人文资源能创造更大价值


　　【解析】C。这道题主要是关注两个关键词，一个是平衡，是失衡才需要调节的；第二个是递增，说明以前可能是时高时低。“莫高窟的预约参观办法合理有效地调控和平衡了游客流量”，实际上反映上述失衡。故选C。


### 三、削弱质疑型

> 更贴近于攻击论证的框架。
> 题目中，goal(首饰, 审美)。选项C中，goal(首饰, 社会地位)，且有常识 #minimize {goal(首饰, X)}。

　　削弱型试题题型的特点是题干中给出一个完整的论证来说明某个论题或者表达某种观点，要求从备选项中寻找到最能反驳或削弱、质疑题干论题的选项。此类试题经学一手教育专家分析，在整个逻辑判断部分所占比例较大。提问的方式一般有：“以下哪项如果为真，最能削弱上述论证？”，“以下哪项如果为真，最不可能削弱上述论证的结论？”等等。


　　【例1】 “东胡林人”遗址是新石器时代早期的人类文化遗址，在遗址中发现的人骨化石经鉴定属两个成年男性个体和一个少年女性个体。在少女遗骸的颈部位置有用小螺壳串制的项链，腕部佩戴有牛肋骨制成的骨镯。这说明在新石器时代早期，人类的审美意识已开始萌动。


　　以下哪项如果为真，最能削弱上述判断？（ ）


　　A.新石器时代的饰品通常是石器


　　B.出土的项链和骨镯都十分粗糙


　　C.项链和骨镯的作用主要是表示社会地位


　　D.两个成年男性遗骸的颈部有更大的项链


　　【解析】C。项链，腕部佩戴有牛肋骨制成的骨镯是用来说明人类的审美意识已开始萌动。要削弱这个论断，只要说明项链，腕部佩戴有牛肋骨制成的骨镯有其它的用途，自然就削弱了审美的结论。故选C。


### 四、 加强支持型

> 题目中可得，possible_cause(基因, 疲劳)。题干B中：exist(基因, 疲劳)，常识：support(exist(基因, X), possible_cause(基因, X))。

　　所谓加强就是加强论点的正确性，方法主要有加强论点、加强论据、证明论证方式的有效性。加强的效果从程度上也是加强论点大于加强论据大于证明论证方式的有效性。也就是说从论点角度加强是最为有效的。这一题型是公考逻辑判断测查中常见题型。


　　【例1】 有的人即便长时间处于高强度的压力下，也不会感到疲劳，而有的人哪怕干一点活也会觉得累。这除了体质或者习惯不同之外，还可能与基因不同有关，英国格拉斯哥大学的研究小组通过对50名慢性疲劳综合症患者基因组的观察，发现这些患者的某些基因与同年龄、同性别健康人的基因是有差别的。


　　以下哪项如果为真，最能支持该研究成果应用于慢性疲劳综合症的诊断和治疗？（ ）


　　A.基因鉴别已在一些疾病的诊断中得到应用


　　B.科学家们鉴别出了导致慢性疲劳综合症的基因


　　C.目前尚无诊断和治疗慢性疲劳综合症的方法


　　D.在慢性疲劳综合证患者身上有一种独特的基因


　　【解析】B。疲劳可能与基因不同有关，通过对疲劳综合症观察确认了基因的差别。如果能辨别出这些有差别的基因，自然就能够更好的治疗了。故选B。


### 五、 解释说明型

> 隐含常识：酸雨不是二氧化硫引起的，因此存在其它的原因。

　　逻辑判断中解释型试题的题型特征一般是，题干给出关于某些事实或现象的客观描述，通常是给出一个似乎矛盾实际上并不矛盾的现象，要求从备选项中寻找到能够解释的选项。提问的一般方式是：“以下哪项如果为真，能最好的解释上面的矛盾？”，“以下哪项如果为真，最不能解释题干中的矛盾”，“以下最能解释上述现象的是……”等等。


　　【例1】二氧化硫是造成酸雨的重要原因。某地区饱受酸雨困扰，为改善这一状况，该地区1～6月累计减排11.8万吨二氧化硫，同比下降9.1%。根据监测，虽然本地区空气中的二氧化硫含量降低，但是酸雨的频率却上升了7.1%。


　　以下最能解释这一现象的是（ ）。


　　A.该地区空气中的部分二氧化硫是从周围地区飘移过来的


　　B.虽然二氧化硫的排放得到控制，但其效果要经过一段时间才能显现


　　C.机动车的大量增加加剧了氮氧化物的排放，而氮氧化物也是造成酸雨的重要原因


　　D.尽管二氧化硫的排放总量减少了，但二氧化硫在污染物中所占的比重没有变


　　【解析】C。酸雨增加显然不是二氧化硫引起的，因此要找其它的原因。而C选项中机动车的大量增加加剧了氮氧化物的排放，而氮氧化物也是造成酸雨的重要原因。故选C。


### 六、逻辑规律运用型

> 充分、必要条件相关常识知识库。

　　【例1】亚里士多德学院的门口竖着一块牌子。上面写着“不懂逻辑者不得入内”。这天，来了一群人，他们都是懂逻辑的人。如果牌子上的话得到准确的理解和严格的执行，那么以下诸断定中，只有一项是真的。这一真的断定是（ ）。


　　A.他们可能不会被允许进入 B.他们一定不会被允许进入


　　C.他们一定会被允许进入 D.他们不可能被允许进入


　　【解析】A。因为 “不懂逻辑者不得入内”，对懂逻辑的没作规定。所以懂逻辑的，可能会被允许进入，也可能不会被允许进入。由不懂逻辑者不得入内可以得出进入者是懂逻辑的，所以说懂逻辑是进入的必要条件，但不一定是充分条件，所以可能可以进入，也可能不被允许进入。故答案选择A。